*** Settings ***
Resource    ../../../Page/WebTrading/Pentest/OrderPage.robot




*** Keywords ***
Create Buy Order
    [Documentation]    Creates a buy order with given parameters
    [Arguments]    ${symbol_type}    ${symbol_value}    ${order_type}    ${duration}    ${destination}
    Input username    ${user}
    Input ${symbol_type}    ${symbol_value}
    Select Order Type ${order_type}
    Input Quantity    ${quantity}
    IF    '${order_type}' == 'Limit' or '${order_type}' == 'STOPLIMIT'
        Input Price    ${price}
    END
    IF    '${order_type}' == 'STOPLIMIT'
        Input trigger price    ${trigger_price}
    END
    Select Duration ${duration}
    Select Destination ${destination}
    Click Review Order
    Verify Review Order    ${user}    BUY    ${order_type}    ${symbol_value}    ${${duration}}    ${${destination}}
    Click Place Buy Order
    Detail Order    ${symbol_type.upper()}
    Close Browser

Create Sell Order
    [Documentation]    Creates a sell order with given parameters
    [Arguments]    ${symbol_type}    ${symbol_value}    ${order_type}    ${duration}    ${destination}
    Input username    ${user}
    Input ${symbol_type}    ${symbol_value}
    Click Sell
    Select Order Type ${order_type}
    Input Quantity    ${quantity}
    IF    '${order_type}' == 'Limit' or '${order_type}' == 'STOPLIMIT'
        Input Price    ${price}
    END
    IF    '${order_type}' == 'STOPLIMIT'
        Input trigger price    ${trigger_price}
    END
    Select Duration ${duration}
    Select Destination ${destination}
    Click Review Order
    Verify Review Order    ${user}    SELL    ${order_type}    ${symbol_value}    ${${duration}}    ${${destination}}
    Click Place Sell Order
    Detail Order    ${symbol_type.upper()}
    Close Browser

Validate Order Creation
    [Documentation]    Validates order creation with given parameters
    [Arguments]    ${symbol_type}    ${symbol_value}    ${order_type}    ${duration}    ${destination}
    Login And Open New Order
    Create ${order_type} Order    ${symbol_type}    ${symbol_value}    ${order_type}    ${duration}    ${destination}
